import{_ as o,r as t,o as d,c as r,e as u,w as s,f as l,b as n,a as e}from"./app-eMN7ubrK.js";const p={},h=l(`<div class="hint-container tip"><p class="hint-container-title">提示</p><p>需要保证 centos 版本：</p><ul><li>centos 7</li><li>centos 8</li><li>centos 9</li></ul></div><h2 id="卸载旧版本" tabindex="-1"><a class="header-anchor" href="#卸载旧版本" aria-hidden="true">#</a> 卸载旧版本</h2><div class="hint-container warning"><p class="hint-container-title">注意</p><p>必须先完成这一步，否则会出现不可预见的错误。</p></div><p>运行下列命令：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">sudo</span> yum remove <span class="token function">docker</span> <span class="token punctuation">\\</span>
                  docker-client <span class="token punctuation">\\</span>
                  docker-client-latest <span class="token punctuation">\\</span>
                  docker-common <span class="token punctuation">\\</span>
                  docker-latest <span class="token punctuation">\\</span>
                  docker-latest-logrotate <span class="token punctuation">\\</span>
                  docker-logrotate <span class="token punctuation">\\</span>
                  docker-engine
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>出现成功提示后即可。</p><h2 id="使用-rpm-repository-安装" tabindex="-1"><a class="header-anchor" href="#使用-rpm-repository-安装" aria-hidden="true">#</a> 使用 rpm repository 安装</h2><h3 id="设置镜像" tabindex="-1"><a class="header-anchor" href="#设置镜像" aria-hidden="true">#</a> 设置镜像</h3><p>安装 <code>yum-utils</code> 软件包（提供 <code>yum-config-manager</code> 实用工具）并设置软件源。</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">sudo</span> yum <span class="token function">install</span> <span class="token parameter variable">-y</span> yum-utils
<span class="token function">sudo</span> yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="安装-docker-engin" tabindex="-1"><a class="header-anchor" href="#安装-docker-engin" aria-hidden="true">#</a> 安装 docker engin</h3><ol><li>安装最新版：</li></ol>`,12),m=e("p",null,"运行下列命令安装最新版：",-1),v=e("div",{class:"language-bash line-numbers-mode","data-ext":"sh"},[e("pre",{class:"language-bash"},[e("code",null,[e("span",{class:"token function"},"sudo"),n(" yum "),e("span",{class:"token function"},"install"),n(` docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin
`)])]),e("div",{class:"line-numbers","aria-hidden":"true"},[e("div",{class:"line-number"})])],-1),k=e("p",null,[n("如果提示接受 GPG 密钥，请验证指纹是否与 "),e("code",null,"060A 61C5 1B55 8A7F 742B 77AA C52F EB6B 621E 9F35"),n(" 匹配，如果匹配，请接受。")],-1),b=e("p",null,[n("这条命令会安装 Docker，但不会启动 Docker。它还创建了一个 "),e("code",null,"docker"),n(" 组，但默认情况下并不向该组添加任何用户。")],-1),_=e("p",null,"要安装特定版本，首先要列出版本库中的可用版本：",-1),g=e("div",{class:"language-bash line-numbers-mode","data-ext":"sh"},[e("pre",{class:"language-bash"},[e("code",null,[n("yum list docker-ce "),e("span",{class:"token parameter variable"},"--showduplicates"),n(),e("span",{class:"token operator"},"|"),n(),e("span",{class:"token function"},"sort"),n(),e("span",{class:"token parameter variable"},"-r"),n(`

docker-ce.x86_64    `),e("span",{class:"token number"},"3"),n(`:24.0.0-1.el8    docker-ce-stable
docker-ce.x86_64    `),e("span",{class:"token number"},"3"),n(`:23.0.6-1.el8    docker-ce-stable
`),e("span",{class:"token operator"},"<"),e("span",{class:"token punctuation"},".."),n("."),e("span",{class:"token operator"},">"),n(`
`)])]),e("div",{class:"line-numbers","aria-hidden":"true"},[e("div",{class:"line-number"}),e("div",{class:"line-number"}),e("div",{class:"line-number"}),e("div",{class:"line-number"}),e("div",{class:"line-number"})])],-1),f=e("p",null,[n("安装一个特定版本时，要使用其完全限定的软件包名称，即软件包名称（docker-ce）加上版本字符串（第 2 列），中间用连字符（-）隔开。例如，"),e("code",null,"docker-ce-3:24.0.0-1.el8"),n("。")],-1),x=e("p",null,[n("将 "),e("code",null,"<VERSION_STRING>"),n(" 替换为所需的版本，然后运行以下命令进行安装：")],-1),y=e("div",{class:"language-bash line-numbers-mode","data-ext":"sh"},[e("pre",{class:"language-bash"},[e("code",null,[n("$ "),e("span",{class:"token function"},"sudo"),n(" yum "),e("span",{class:"token function"},"install"),n(` docker-ce-VERSION_STRING docker-ce-cli-VERSION_STRING containerd.io docker-buildx-plugin docker-compose-plugin
`)])]),e("div",{class:"line-numbers","aria-hidden":"true"},[e("div",{class:"line-number"})])],-1),N=e("p",null,[n("这条命令会安装 Docker，但不会启动 Docker。它还会创建一个 "),e("code",null,"docker"),n(" 组，但默认情况下不会向该组添加任何用户。")],-1),A=l(`<ol start="2"><li>启动 docker</li></ol><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">sudo</span> systemctl start <span class="token function">docker</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="3"><li>运行 <code>hello-world</code> 映像，验证 Docker Engine 安装是否成功。</li></ol><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">docker</span> run hello-world
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>这条命令会下载一个测试镜像，并在一个容器中运行。当容器运行时，它会打印一条确认信息并退出。</p><div class="hint-container tip"><p class="hint-container-title">提示</p><p>可以不去执行，只要安装过程不报错就表明成功。</p></div>`,6);function w(B,E){const c=t("Tabs");return d(),r("div",null,[h,u(c,{id:"57",data:[{id:"安装最新版"},{id:"安装指定版本"}]},{title0:s(({value:a,isActive:i})=>[n("安装最新版")]),title1:s(({value:a,isActive:i})=>[n("安装指定版本")]),tab0:s(({value:a,isActive:i})=>[m,v,k,b]),tab1:s(({value:a,isActive:i})=>[_,g,f,x,y,N]),_:1}),A])}const S=o(p,[["render",w],["__file","005-install-docker.html.vue"]]);export{S as default};
